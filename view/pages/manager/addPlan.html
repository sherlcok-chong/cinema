<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>排片</title>
</head>
<body>
<div><a style="text-decoration: none " onclick=ret() href="#">返回</a> <a href="/logout" style="text-decoration: none ">退出登录</a>
</div>
<p style="font-size: 50px;text-align:center;">排片</p>
<form action="/addMyPlan" method="post" enctype="multipart/form-data" id="form">
    <div style="text-align: center;height: 50px">
        选择电影：
        <select name="movieName" style="height: 30px">
            {{range.Movies}}
            <option>{{.}}</option>
            {{end}}
        </select><span id="nameErr"></span>
        <br>
        <br>
        选择日期：
        <input type="datetime-local" name="date"> <span id="dateErr"></span>
        <br>
        <br>
        选择影厅
        <select name="hall">
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
        </select>
        <br>
        <br>
        设置票价：<input type="text" name="money">元  <span id="moneyErr" style="color: red"></span>
        <br>
        <br>
        其他特色（3D/杜比全景声/....） <input type="text" name="elseSpe">
        <br>
        <br>
        <input type="submit">
        <p>{{.Flag}}</p>
    </div>
</form>
</body>
<script>
    function ret() {
        window.history.back();
    }

    document.getElementById("form").onsubmit = function () {
        let name = document.getElementsByName("movieName")[0]
        if (name.value === "") {
            let err = document.getElementById("nameErr")
            err.innerHTML = "请选择电影"
            return false
        }
        let date = document.getElementsByName("date")[0].value
        if (date === "") {
            let err = document.getElementById("dateErr")
            err.innerHTML = "请选择时间"
            return false
        }
        let money =document.getElementsByName("money")[0].value
        const len = /^\d{1,3}$/
        if (!len.test(money)){
            let err = document.getElementById("moneyErr")
            err.innerHTML = "输入正确的金额"
            return false
        }

    }
</script>
</html>